<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="script.js" defer></script>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/9aa2e42d53.js" crossorigin="anonymous" defer></script>
    <title>Document</title>
</head>
<body>
    <div class="favorite-main">
    <div class="heading">
        <div class="title">
            <img src="https://www.wallpapersshare.com/img/big/batman-superhero-wallpaper-4k.jpg" id="logo-image"> 
            <h1 class="main-heading" >SuperHero</h1>
            <p class="title-tag">Hunter</p></div>
        <div class="main-btn">
           <a href="index.html">Home</a>
            <a href="favorites.html" id="favorite">Favorites</a>
        </div>
    </div >
    <img src="./superheroes.jpg"class="bg-image"/>
    
     <div class="favorite-body"> 
         <div class="favorites">

    </div>
</div>
    
 </div>
</body>
</html>
<script>

    const favorites = document.querySelector(".favorites");
    // console.log(favorites);
    
    // const getfavorites = () =>
    const getlocalstorage = localStorage.getItem("favoriteherolist"); 
    
       if(getlocalstorage !== null ){
            favoritelist = JSON.parse(getlocalstorage);
            favoritelist.map((hero,i)=>{
            favorites.innerHTML += `<div class="favorite-card">
            <img src=${hero.image.url} id="favorite-img"/>
            <h3>${hero.name}<h3/>
                <i class="fas fa-heart" style="color:red; margin:10px; cursor:pointer;" data-index=${i}></i>
            <div>`;
        }) 
        }
     const favoriteheart = document.querySelector(".favorites"); 
    //  to delete from favorites
    const removefavorite = (e) =>{
         const remove = e.target;
         if(remove.classList.contains("fa-heart")){
            const removeindex = remove.dataset.index;
         console.log(removeindex);
         const removefavorite = favoritelist[removeindex];
        //  console.log(removefavorite);
        //  const favoritelist = JSON.parse(localStorage.getItem("favoriteherolist"));
         console.log("favorites",favoritelist);
         console.log("remove",removefavorite);
         let removedlist = favoritelist.filter((hero)=>hero.id !== removefavorite.id);
         console.log("removedlist",removedlist);
         if(removedlist === "")
         localStorage.clear();
         else{
            localStorage.setItem('favoriteherolist',JSON.stringify(removedlist));
            favorites.innerHTML = "";
            favoritelist = removedlist;
            favoritelist.map((hero,i)=>{
            favorites.innerHTML += `<div class="favorite-card">
            <img src=${hero.image.url} id="favorite-img"/>
            <h3>${hero.name}<h3/>
                <i class="fas fa-heart" style="color:red; margin:10px; cursor:pointer;" data-index=${i}></i>
            <div>`;
        }) 
         }
         
         }
        }     
         hearts = document.querySelectorAll(".fa-heart");
       
        favoriteheart.addEventListener("click",removefavorite);
        
    
    </script>